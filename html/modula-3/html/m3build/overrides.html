<HTML>
<HEAD>
<TITLE>SRC Modula-3: Overriding package locations</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff" VLINK="#006633">

<H2>Overriding package locations</H2>
<P>

<B> override(P, D) </B>  
          Use the version of package <TT>P</TT> in directory <TT>D/P</TT>
          instead of the one in <TT>/pkg/P</TT>.
 
<P>

<TT>override</TT> alters the behaviour of the <TT>include_pkg</TT> and
<TT>import_pkg</TT> procedures, and must be executed prior to any such calls
to have an effect.
<P>

To help ensure that the public repositories are consistent,
<TT>m3ship</TT> will refuse to install any package built using overrides.
<P>

When the <TT>-O</TT> option is specified, <TT>m3build</TT> looks for a file
named <TT>m3overrides</TT> in the <TT>src</TT> directory and, if one
exists, executes it immediately prior to executing <TT>m3makefile</TT>.
By keeping all <TT>override</TT> calls in an <TT>m3overrides</TT> file
and not in an <TT>m3makefile</TT>, you can build both private and public
versions of packages without editting any files.
<P>

The overrides in effect when a package was built are automatically
carried forward into importers of the package, so there is no need to
restate the complete set of overrides at every level, only of those
packages that are directly imported into a given package.
<P>

There is a  pre-declared variable, <TT>WDROOT</TT>, that
defines the conventional location of a user's private package repository.
(see \ref{VAR-sec}).
<P>

<HR>
<A HREF="../home.html">[Modula-3 home page]</A>
<P>
<A HREF="mailto:m3-request@src.dec.com">
<ADDRESS>m3-request@src.dec.com</ADDRESS></A>
<PRE>
Last modified on Thu Jan  4 11:07:51 PST 1996 by heydon 
     modified on Thu Apr 21 16:53:59 PDT 1994 by kalsow 
     modified on Thu Jan  7 18:40:57 PST 1993 by muller 
</PRE>

Copyright (C) 1992, 1996, Digital Equipment Corporation. All rights reserved.<BR>
See the <A HREF="http://www.research.digital.com/SRC/m3sources/html/COPYRIGHT.html">COPYRIGHT</A> for a full description.
</BODY>
</HTML>
