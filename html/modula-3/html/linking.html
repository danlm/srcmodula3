<HTML>
<HEAD>
<TITLE>SRC Modula-3: Linking </TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff" VLINK="#006633">

<H2>Linking</H2>
<P>

SRC Modula-3 uses a special two-phase linker.  You must link
Modula-3 programs with
<A HREF="m3build/m3build.html"><TT>m3build</TT></A>.
<P>

The first phase of the linker checks that all version stamps are
consistent, generates declarations for the runtime type structures,
and builds the initialization code from the
collection of objects to be linked.  The second phases calls the host
system's linker to actually link the program.
<P>

The information needed by the first phase is generated by the compiler
in files ending in <TT>.ix</TT> and <TT>.mx</TT>.  Libraries containing
Modula-3 code must be created using
<A HREF="m3build/m3build.html"><TT>m3build</TT></A>.
It will combine the <TT>.ix</TT> and <TT>.mx</TT> files for the objects in the
library into a new file ending in <TT>.ax</TT>.
The <TT>.ix</TT>, <TT>.mx</TT>,
and <TT>.ax</TT> files must reside in the same directory as their corresponding
<TT>.io</TT>, <TT>.mo</TT> and <TT>.a</TT> files.
If
<A HREF="m3build/m3build.html"><TT>m3build</TT></A>
encounters a library without a <TT>.ax</TT> file,
it assumes that the library contains no Modula-3 code.
<P>

For every symbol <TT>X.Z</TT> exported or imported by a module, the
compiler generates a
<A HREF="m3/vstamps.html">version stamp</A>.
These stamps are used to ensure that
all <A HREF="linking/LinkingProgs.html">modules linked into a single program</A> agree on the type of <TT>X.Z</TT>.
The linker will refuse to link programs with inconsistent
<A HREF="m3/vstamps.html">version stamps</A>.
<P>

<HR>
<A HREF="home.html">[Modula-3 home page]</A>
<P>
<A HREF="mailto:m3-request@src.dec.com">
<ADDRESS>m3-request@src.dec.com</ADDRESS></A>
<PRE>
Last modified on Thu Jan  4 11:08:04 PST 1996 by heydon 
     modified on Wed Apr 12 15:28:57 PDT 1995 by kalsow 
     modified on Thu Jan  7 18:40:57 PST 1993 by muller 
</PRE>

Copyright (C) 1992, 1996, Digital Equipment Corporation. All rights reserved.<BR>
See the <A HREF="http://www.research.digital.com/SRC/m3sources/html/COPYRIGHT.html">COPYRIGHT</A> for a full description.
</BODY>
</HTML>
