<HTML>
<HEAD>
<TITLE>SRC Modula-3: netobjrt/src/AtomPkl.m3</TITLE>
</HEAD>
<BODY>
<A NAME="0TOP0">
<H2>netobjrt/src/AtomPkl.m3</H2></A><HR>
<inModule>
<PRE><A HREF="../../COPYRIGHT.html">Copyright (C) 1994, Digital Equipment Corp.</A>
</PRE><BLOCKQUOTE><EM> ListPkl.m3 </EM></BLOCKQUOTE><PRE>
</PRE> Atom Pickle.Special 

<P><PRE>MODULE <module><implements><A HREF="AtomPkl.i3.html">AtomPkl</A></implements></module>;

IMPORT <A HREF="../../atom/src/Atom.i3.html">Atom</A>, <A HREF="../../thread/src/Common/Thread.i3.html">Thread</A>, <A HREF="../../rw/src/Common/Rd.i3.html">Rd</A>, <A HREF="../../rw/src/Common/Wr.i3.html">Wr</A>, <A HREF="../../pickle/src/Pickle.i3.html">Pickle</A>;

PROCEDURE <A NAME="AtomPklWrite"><procedure>AtomPklWrite</procedure></A> (
    &lt;*UNUSED*&gt; sp: Pickle.Special;
    r: REFANY; writer: Pickle.Writer)
    RAISES { Pickle.Error, Wr.Failure, Thread.Alerted } =
  BEGIN
    writer.write(Atom.ToText(r));
  END AtomPklWrite;

PROCEDURE <A NAME="AtomPklRead"><procedure>AtomPklRead</procedure></A> (
    &lt;*UNUSED*&gt; sp: Pickle.Special;
    reader: Pickle.Reader;
    &lt;*UNUSED*&gt; id: Pickle.RefID) : REFANY
    RAISES { Pickle.Error, Rd.EndOfFile, Rd.Failure, Thread.Alerted } =
  BEGIN
    RETURN Atom.FromText(reader.read());
  END AtomPklRead;

BEGIN
  Pickle.RegisterSpecial (NEW (Pickle.Special, sc := TYPECODE (Atom.T),
    write := AtomPklWrite,
    read  := AtomPklRead));
END AtomPkl.
</PRE>
</inModule>
<PRE>























</PRE>
</BODY>
</HTML>
