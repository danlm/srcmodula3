<HTML>
<HEAD>
<TITLE>SRC Modula-3: sequence/src/SequenceRep.ig</TITLE>
</HEAD>
<BODY>
<A NAME="0TOP0">
<H2>sequence/src/SequenceRep.ig</H2></A><HR>
<inInterface>
<PRE><A HREF="../../COPYRIGHT.html">Copyright (C) 1994, Digital Equipment Corp.</A>
</PRE><BLOCKQUOTE><EM>                                                           </EM></BLOCKQUOTE><PRE>
</PRE> This interface defines the representation of generic
   sequences. 

<P><PRE>GENERIC INTERFACE <genericInterface>SequenceRep</genericInterface>(Elem, Seq);
</PRE><BLOCKQUOTE><EM> Where <CODE>Seq = Sequence(Elem)</CODE>. </EM></BLOCKQUOTE><PRE>

REVEAL Seq.T &lt;: Public;

TYPE
  RefArray = BRANDED REF ARRAY OF Elem.T;
  Public = Seq.Public BRANDED OBJECT
    elem: RefArray := NIL;
    st: CARDINAL := 0;
    sz: CARDINAL := 0
  END;
</PRE> Element <CODE>i</CODE> of <CODE>s</CODE> is stored in
<P>
<PRE>
      s.elem[(s.st + i) MOD NUMBER(s.elem^)].
</PRE>
A sequence <CODE>s</CODE> satisfies the invariant that
<P>
<PRE>
      (s.elem # NIL) AND (s.sz &lt;= NUMBER(s.elem^))
      AND (s.size() = s.sz) AND (NUMBER(s.elem^) &gt; 0)
      AND (s.st &lt; NUMBER(s.elem^))
</PRE>


<P><PRE>TYPE EArr = ARRAY OF Elem.T;

END SequenceRep.
</PRE>
</inInterface>
<PRE>























</PRE>
</BODY>
</HTML>
