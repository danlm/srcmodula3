<HTML>
<HEAD>
<TITLE>SRC Modula-3: dps/src/Unique.m3</TITLE>
</HEAD>
<BODY>
<A NAME="0TOP0">
<H2>dps/src/Unique.m3</H2></A><HR>
<inModule>
<PRE><A HREF="../../COPYRIGHT.html">Copyright (C) 1994, Digital Equipment Corp.</A>

MODULE <module><implements><A HREF="Unique.i3.html">Unique</A></implements></module>;

IMPORT <A HREF="../../thread/src/Common/Thread.i3.html">Thread</A>, <A HREF="../../fmtlex/src/Fmt.i3.html">Fmt</A>;

VAR sequencerMutex: Thread.Mutex;
VAR sequencer: INTEGER;

PROCEDURE <A NAME="Identifier"><procedure>Identifier</procedure></A> (): TEXT =
  BEGIN
  RETURN &quot;A&quot; &amp; Fmt.Int (Integer());
  END Identifier;

PROCEDURE <A NAME="Integer"><procedure>Integer</procedure></A> (): INTEGER =
  BEGIN
  LOCK sequencerMutex DO
    sequencer := sequencer + 1;
    RETURN sequencer;
    END;
  END Integer;

  BEGIN
  sequencer := IntegerNever;
  sequencerMutex := NEW (MUTEX);

  END Unique.
</PRE>
</inModule>
<PRE>























</PRE>
</BODY>
</HTML>
