<HTML>
<HEAD>
<TITLE>SRC Modula-3: m3tk/src/gast/ASTNodeArray.m3</TITLE>
</HEAD>
<BODY>
<A NAME="0TOP0">
<H2>m3tk/src/gast/ASTNodeArray.m3</H2></A><HR>
<inModule>
<PRE>MODULE <module><implements><A HREF="ASTNodeArray.i3.html">ASTNodeArray</A></implements></module>;

Copyright

IMPORT AST, AST_Iter;

PROCEDURE <A NAME="Number"><procedure>Number</procedure></A>(n: AST.NODE): CARDINAL RAISES {}=
  VAR i := 0; iter := n.newIter(); child: AST.NODE;
  BEGIN
    WHILE iter.next(child) DO INC (i) END; (* while *)
    RETURN i;
  END Number;

PROCEDURE <A NAME="High"><procedure>High</procedure></A>(n: AST.NODE): INTEGER RAISES {}=
  BEGIN
    RETURN Number(n)-1;
  END High;

EXCEPTION BadIndex;

PROCEDURE <A NAME="Ith"><procedure>Ith</procedure></A>(n: AST.NODE; i: CARDINAL): AST.NODE RAISES {}=
  &lt;*FATAL BadIndex*&gt;
  VAR iter := n.newIter(); child: AST.NODE;
  BEGIN
    FOR j := 0 TO i DO
      IF NOT iter.next(child) THEN RAISE BadIndex END;
    END; (* for *)
    RETURN child;
  END Ith;

BEGIN

END ASTNodeArray.
</PRE>
</inModule>
<PRE>























</PRE>
</BODY>
</HTML>
