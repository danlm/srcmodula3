<HTML>
<HEAD>
<TITLE>SRC Modula-3: trestle_by_example/src/script/Script1.m3</TITLE>
</HEAD>
<BODY>
<A NAME="0TOP0">
<H2>trestle_by_example/src/script/Script1.m3</H2></A><HR>
<inModule>
<PRE>MODULE <module>Script</module> EXPORTS <A HREF="../../../main/src/Main.i3.html"><implements>Main</A></implements>;
IMPORT <A HREF="../../../ui/src/vbt/Trestle.i3.html">Trestle</A>, <A HREF="../../../ui/src/vbt/VBT.i3.html">VBT</A>, <A HREF="../../../ui/src/split/ButtonVBT.i3.html">ButtonVBT</A>, <A HREF="../../../ui/src/split/TextVBT.i3.html">TextVBT</A>, <A HREF="../../../ui/src/split/HVSplit.i3.html">HVSplit</A>, <A HREF="../../../etext/src/TypescriptVBT.i3.html">TypescriptVBT</A>;
IMPORT <A HREF="../../../geometry/src/Axis.i3.html">Axis</A>;
IMPORT <A HREF="../../../rw/src/Common/Wr.i3.html">Wr</A>;

PROCEDURE <A NAME="QuitAction"><procedure>QuitAction</procedure></A> (self: ButtonVBT.T; READONLY cd: VBT.MouseRec) =
  BEGIN
    Trestle.Delete(main);
  END QuitAction;

PROCEDURE <A NAME="DoAction"><procedure>DoAction</procedure></A> (self: ButtonVBT.T; READONLY cd: VBT.MouseRec) =
  BEGIN
    Wr.PutText(wr, &quot;More lines.\n&quot;);
    Wr.PutText(wr, &quot;Some more lines.\n&quot;);
  END DoAction;

VAR
  port := NEW(TypescriptVBT.Port).init(readOnly := TRUE);
  scr  := NEW(TypescriptVBT.T);
  wr: TypescriptVBT.Writer;
  do                       := ButtonVBT.New(TextVBT.New(&quot;do&quot;), DoAction);
  quit := ButtonVBT.New(TextVBT.New(&quot;quit&quot;), QuitAction);
  bs   := HVSplit.Cons(Axis.T.Hor, do, quit);
  main := HVSplit.Cons(Axis.T.Ver, scr, bs);

BEGIN
  scr.port := port;
  EVAL scr.init();
  wr := TypescriptVBT.GetWr(scr);
  Wr.PutText(wr, &quot;Line one\n&quot;);
  Wr.PutText(wr, &quot;Line two\n&quot;);
  Wr.PutText(wr, &quot;Line one\n&quot;);
  Wr.PutText(wr, &quot;Line two\n&quot;);
  Wr.PutText(wr, &quot;Line one\n&quot;);
  Wr.PutText(wr, &quot;Line two\n&quot;);
  Wr.PutText(wr, &quot;Line one\n&quot;);
  Wr.PutText(wr, &quot;Line two\n&quot;);
  Wr.Flush(wr);
  Trestle.Install(main);
  Trestle.AwaitDelete(main);
END Script.
</PRE>
</inModule>
<PRE>























</PRE>
</BODY>
</HTML>
