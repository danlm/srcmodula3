<HTML>
<HEAD>
<TITLE>SRC Modula-3: gef/derived/gefBundle.m3</TITLE>
</HEAD>
<BODY>
<A NAME="0TOP0">
<H2>gef/derived/gefBundle.m3</H2></A><HR>
<inModule>
<PRE>MODULE <module><implements><A HREF="gefBundle.i3.html">gefBundle</A></implements></module>;
</PRE><BLOCKQUOTE><EM> Generated by m3bundle; see its manpage. </EM></BLOCKQUOTE><PRE>

IMPORT <A HREF="../../bundleintf/src/Bundle.i3.html">Bundle</A>, <A HREF="../../bundleintf/src/BundleRep.i3.html">BundleRep</A>, <A HREF="../../text/src/Text.i3.html">Text</A>;
IMPORT <A HREF="../../thread/src/Common/Thread.i3.html">Thread</A>, <A HREF="../../rw/src/Common/Wr.i3.html">Wr</A>, <A HREF="../../rw/src/Common/TextWr.i3.html">TextWr</A>;

TYPE T = Bundle.T OBJECT OVERRIDES get := LookUp END;

VAR bundle: T := NIL;

PROCEDURE <A NAME="Get"><procedure>Get</procedure></A>(): Bundle.T =
  BEGIN
    IF (bundle = NIL) THEN bundle := NEW (T) END;
    RETURN bundle;
  END Get;

PROCEDURE <A NAME="LookUp"><procedure>LookUp</procedure></A> (&lt;*UNUSED*&gt; self: T;  element: TEXT): TEXT =
  BEGIN
    FOR i := 0 TO LAST (Names)-1 DO
      IF Text.Equal (Names[i], element) THEN
        IF Elements[i] = NIL THEN Elements[i] := GetElt (i) END;
        RETURN Elements[i];
      END;
    END;
    RETURN NIL;
  END LookUp;

CONST Names = ARRAY [0..3] OF TEXT {
  &quot;gefeventTranscriptView.fv&quot;,
  &quot;geftest.fv&quot;,
  &quot;gefeventEventData.fv&quot;,
  NIL
};

VAR Elements := ARRAY [0..3] OF TEXT {
  E0,
  E1,
  NIL (* E2 .. E2_0 *),
  NIL
};

PROCEDURE <A NAME="GetElt"><procedure>GetElt</procedure></A> (n: INTEGER): TEXT =
  &lt;*FATAL Thread.Alerted, Wr.Failure *&gt;
  VAR wr := TextWr.New ();
  BEGIN
    CASE n OF
    | 2 =&gt;
        Wr.PutText (wr, E2);
        Wr.PutText (wr, E2_0);
    ELSE (*skip*)
    END;
    RETURN TextWr.ToText (wr);
  END GetElt;

CONST E0 =
   &quot;(VBox\n  (Rim\n    (Pen 2)\n    (HBox\n      (VBox (Glue 4) (Shape (Hei&quot;
 &amp; &quot;ght + Inf) (Button %clear \&quot;CLEAR\&quot;)) (Glue 4))\n      (Glue 4)\n      &quot;
 &amp; &quot;(VBox\n        (Boolean =TRUE %alg (Text LeftAlign \&quot;Algorithm events\&quot;&quot;
 &amp; &quot;))\n        (Boolean =FALSE %zeus (Text LeftAlign \&quot;Zeus events\&quot;))\n  &quot;
 &amp; &quot;      (Boolean =TRUE %args (Text LeftAlign \&quot;Display args to events\&quot;))&quot;
 &amp; &quot;)\n      Fill))\n  (Bar 1)\n  (Shape (ShadowSize 0) (Height 200 + INF) &quot;
 &amp; &quot;(TextEdit ReadOnly %transcript)))\n&quot;;

CONST E1 =
   &quot;(VBox\n  (HBox\n    (Shape (Width 80) (Text LeftAlign \&quot;Algorithm file:&quot;
 &amp; &quot; \&quot;))\n    (Frame Ridged (Shape (Width 250 + Infinity) (TypeIn %algFile&quot;
 &amp; &quot;))))\n  (HBox\n    (Shape (Width 80) (Text LeftAlign \&quot;View file: \&quot;))\n&quot;
 &amp; &quot;    (Frame Ridged (TypeIn %viewFile)))\n  (HBox\n    (Shape (Width 80) &quot;
 &amp; &quot;(Text LeftAlign \&quot;Codeview file: \&quot;))\n    (Frame Ridged (Shape (Width &quot;
 &amp; &quot;250 + Infinity) (TypeIn %codeviewFile))))\n)\n&quot;;

CONST E2 =
   &quot;(VBox\n  (Border (Pen 1)\n    (Shape\n      (Height 75 - 25 + Inf)\n   &quot;
 &amp; &quot;   (Viewport\n        (HBox\n          (Glue 4 + Inf)\n          (VBox\n&quot;
 &amp; &quot;            (Glue 6)\n            (Shape (Height 16 + 0)\n             &quot;
 &amp; &quot; (HBox Fill (Shape (Width + 0) (Height + 0) \n                         &quot;
 &amp; &quot;       \&quot;Code View events:   Stop? \&quot;) \n                    (Boolean %&quot;
 &amp; &quot;stopatCodeEvents =TRUE \&quot;\&quot;)\n                    (Glue 10)\n          &quot;
 &amp; &quot;          (Shape (Width + 0) (Height + 0) \&quot;Weight: \&quot;)\n              &quot;
 &amp; &quot;      (Shape (Width 80) (Numeric %waitatCodeEvents =1 \n               &quot;
 &amp; &quot;                                (Min 0) (Max 100)))))\n            (Glu&quot;
 &amp; &quot;e 6)\n            (Shape (Height 16 + 0)\n              (HBox Fill (Sha&quot;
 &amp; &quot;pe (Width + 0) (Height + 0) \n                                \&quot;Init:  &quot;
 &amp; &quot; Stop? \&quot;) \n                    (Boolean %stopAtInit =TRUE \&quot;\&quot;)\n    &quot;
 &amp; &quot;                (Glue 10)\n                    (Shape (Width + 0) (Heig&quot;
 &amp; &quot;ht + 0) \&quot;Weight: \&quot;)\n                    (Shape (Width 80) (Numeric %&quot;
 &amp; &quot;waitAtInit =1 \n                                               (Min 0) &quot;
 &amp; &quot;(Max 100)))))\n            (Glue 6)\n            (Shape (Height 16 + 0)&quot;
 &amp; &quot;\n              (HBox Fill (Shape (Width + 0) (Height + 0) \n          &quot;
 &amp; &quot;                      \&quot;Event:   Stop? \&quot;) \n                    (Boole&quot;
 &amp; &quot;an %stopAtEvent =TRUE \&quot;\&quot;)\n                    (Glue 10)\n           &quot;
 &amp; &quot;         (Shape (Width + 0) (Height + 0) \&quot;Weight: \&quot;)\n               &quot;
 &amp; &quot;     (Shape (Width 80) (Numeric %waitAtEvent =1 \n                     &quot;
 &amp; &quot;                          (Min 0) (Max 100)))))\n            (Glue 6)\n&quot;
 &amp; &quot;            (Shape (Height 16 + 0)\n              (HBox Fill (Shape (Wi&quot;
 &amp; &quot;dth + 0) (Height + 0) \n                                \&quot;Pause:   Stop&quot;
 &amp; &quot;? \&quot;) \n                    (Boolean %stopAtPause =TRUE \&quot;\&quot;)\n        &quot;
 &amp; &quot;            (Glue 10)\n                    (Shape (Width + 0) (Height +&quot;
 &amp; &quot; 0) \&quot;Weight: \&quot;)\n                    (Shape (Width 80) (Numeric %wait&quot;
 &amp; &quot;AtPause =1 \n                                               (Min 0) (Ma&quot;
 &amp; &quot;x 100)))))\n            (Glue 6)\n          )\n          (Glue 4)\n    &quot;
 &amp; &quot;      (VBox&quot;;

CONST E2_0 =
   &quot;\n            (Glue 5)\n            (Shape (Width + 0) (Height 16 + 0) &quot;
 &amp; &quot;\&quot;Cts:\&quot;)\n            (Button %eventCounts\n              (VBox\n     &quot;
 &amp; &quot;           (Glue 6)\n                (HBox Fill (Shape (Width + 0) (Hei&quot;
 &amp; &quot;ght 16 + 0) \n                                  (Text %ctOfInit \&quot;0\&quot;))&quot;
 &amp; &quot;)\n                (Glue 6)\n                (HBox Fill (Shape (Width +&quot;
 &amp; &quot; 0) (Height 16 + 0) \n                                  (Text %ctOfEven&quot;
 &amp; &quot;t \&quot;0\&quot;)))\n                (Glue 6)\n                (HBox Fill (Shape&quot;
 &amp; &quot; (Width + 0) (Height 16 + 0) \n                                  (Text &quot;
 &amp; &quot;%ctOfPause \&quot;0\&quot;)))\n                (Glue 3))))\n          Fill\n     &quot;
 &amp; &quot;     (Glue 4 + Inf)\n        )\n      )\n    )\n  )\n)\n&quot;;

BEGIN
END gefBundle.
</PRE>
</inModule>
<PRE>























</PRE>
</BODY>
</HTML>
