<HTML>
<HEAD>
<TITLE>SRC Modula-3: float/src/Common/DragonT.i3</TITLE>
</HEAD>
<BODY>
<A NAME="0TOP0">
<H2>float/src/Common/DragonT.i3</H2></A><HR>
<inInterface>
<PRE><A HREF="../../../COPYRIGHT.html">Copyright (C) 1994, Digital Equipment Corp.</A>
</PRE><BLOCKQUOTE><EM>                                                                           </EM></BLOCKQUOTE><PRE>

INTERFACE <interface><A HREF="DragonT.m3.html">DragonT</A></interface>;

IMPORT <A HREF="../../../C/src/Common/Ctypes.i3.html">Ctypes</A>;

TYPE
  CutoffMode = {normal, absolute, relative};
  Digit = [0 .. 9];

PROCEDURE <A HREF="DragonT.m3.html#F">F</A> (e           : INTEGER;
             f1, f0      : INTEGER;
             p           : INTEGER;
             cutoffMode  : CutoffMode;
             cutoffPlace : INTEGER;
  VAR(*OUT*) digits      : ARRAY OF Digit;
  VAR(*OUT*) count       : CARDINAL;
  VAR(*OUT*) exp         : INTEGER);
</PRE><BLOCKQUOTE><EM> Implements the <CODE>Dragon</CODE> algorithm to print floating-point numbers.
   The 64 mantissa bits are ((f1 &amp; 16_ffffffff) &lt;&lt; 32) + (f0 &amp; 16_ffffffff) </EM></BLOCKQUOTE><PRE>

&lt;*EXTERNAL strtod*&gt;
PROCEDURE strtod (nptr: Ctypes.char_star;
                  eptr: Ctypes.char_star_star): LONGREAL;

END DragonT.
</PRE><P>
   The Dragon algorithm is described in:
<P>
<PRE>
             &quot;How to Print Floating-Point Numbers Accurately&quot;,
             Guy L. Steele Jr. and Jon L. White, 
             Proceedings of the ACM Sigplan'90 conference on Programming 
             Language Design and Implementation, 
             pp 112-126.
</PRE>


</inInterface>
<PRE>























</PRE>
</BODY>
</HTML>
