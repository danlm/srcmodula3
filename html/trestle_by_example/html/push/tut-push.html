<html>

<head>
<title>Trestle by Example:  Push buttons</title>
</head>

<body>

<ul>
  <li> Root of document: <a href="../tutorial.html">Trestle by Example</a>
  <li> Previous section: <a href="../text/tut-text.html">Displaying text</a>
  <li> Next section: <a href="../update/tut-update.html">Updating a text window</a>
  <li> Cross listing: <a href="../cross/tut-cross.html">Cross listing by module</a>
</ul>

<hr>

<h1>Push buttons</h1>

The program
<a href="../../../m3sources/html/trestle_by_example/src/push/Push.m3.html">Push.m3</a>
illustrates the usage of a single push-button.
The program uses the Trestle <code>ButtonVBT</code> interface
that provides a VBT type for button objects.
The program exits when the mouse is clicked in the button.
<p>

A <code>TextVBT</code> is a @emph{leaf} VBT, a VBT without VBT subcomponents.
In contrast a <code>ButtonVBT</code> is VBT with a VBT as a subcomponent.
It provides added features to another <code>VBT</code>
which must be given as an argument when the <code>ButtonVBT</code> is created.
The appearance of the button on the display is governed by the argument.
In the case of
<a href="../../../m3sources/html/trestle_by_example/src/push/Push.m3.html">Push.m3</a>,
we make a button out of a <code>TextVBT</code>.
This is a common case.
The button looks just like a <code>TextVBT</code> on the screen.
In this way the button is labeled with some text.
Clicking in a <code>TextVBT</code> normally has no effect,
but when the <code>TextVBT</code> is in a <code>ButtonVBT</code>
an action is performed.
The action to perform must be given by providing
a procedure of type <code>ButtonVBT.Proc</code> which is defined to be
<pre>
PROCEDURE (self: ButtonVBT.T; READONLY cd: VBT.MouseRec);
</pre>
in the interface module <code>ButtonVBT.i3</code>.
The program
<a href="../../../m3sources/html/trestle_by_example/src/push/Push.m3.html">Push.m3</a>
defines an action that quits the execution of the program.
This is accomplished by calling the Trestle function <code>Delete</code>
which halts the implicit event-processing loop of the program.
<p>

The <code>ButtonVBT</code> is not the only VBT in the program.
Another <code>TextVBT</code> is created to display the text ``Hello World.''
The two VBT's are stacked vertically in an inclosing @emph{split} VBT.
The function <code>HVSplit.Cons</code> takes several
(zero, one, up to nine) VBT's and arranges them horizontally
if the first argument is <code>Axis.T.Hor</code>, or vertically
if the first argument is <code>Axis.T.Ver</code>.
A border is put around the button
in order to separate it from the rest of the window,
this can be seen in Push:
<br>
<img src="../push/push.gif">
<p>

The overall size of the window is determined by the ``Hello World''
text VBT which has been given a particular size using the
function <code>RigidVBT.FromHV</code>.
The first two <code>REAL</code> parameters to <code>RigidVBT.FromHV</code>
give the minimum size of the VBT in millimeters.

<hr>

<ul>
  <li> Root of document: <a href="../tutorial.html">Trestle by Example</a>
  <li> Previous section: <a href="../text/tut-text.html">Displaying text</a>
  <li> Next section: <a href="../update/tut-update.html">Updating a text window</a>
  <li> Cross listing: <a href="../cross/tut-cross.html">Cross listing by module</a>
</ul>

</body>
</html>
